<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>RDF Lehrplanung</title>
</head>
<body>
  <h1>ðŸ“„ Lehrveranstaltung erfassen</h1>

  <form method="POST" action="/submit">
    <label>Modulnummer:</label><br>
    <select id="modulnummer" name="modulnummer" onchange="ladeModulDaten()" required>
      <option value="">â€“ Modul wÃ¤hlen â€“</option>
      <option value="ET301">ET301</option>
      <option value="INF102">INF102</option>
    </select><br><br>

    <label>Modulbezeichnung:</label><br><input name="modulbezeichnung" id="modulbezeichnung"><br>
    <label>Lehrveranstaltungsnummer:</label><br><input name="lvnummer" id="lvnummer"><br>
    <label>Lehrveranstaltungsbezeichnung:</label><br><input name="lvname" id="lvname"><br>
    <label>Gesamt SWS:</label><br><input name="sws" id="sws"><br>
    <label>Vorlesung SWS:</label><br><input name="vl" id="vl"><br>
    <label>Seminar SWS:</label><br><input name="sem" id="sem"><br>
    <label>Praktikum SWS:</label><br><input name="prak" id="prak"><br>

    <label>Dozent:</label><br><input name="dozent" id="dozent"><br>
    <label>Gruppe:</label><br><input name="gruppe"><br>
    <label>Technikanforderung:</label><br><input name="technik"><br>
    <label>Raum:</label><br><input name="raum"><br>
    <label>Campus-Bereich:</label><br><input name="campus"><br><br>

    <button type="submit">âœ… Speichern als RDF</button>
  </form>

  <script>
    function ladeModulDaten() {
      const nummer = document.getElementById("modulnummer").value;
      if (!nummer) return;

      fetch(`/modul/${nummer}`)
        .then(res => res.json())
        .then(data => {
          document.getElementById("modulbezeichnung").value = data.modulbezeichnung || "";
          document.getElementById("lvnummer").value = data.lehrveranstaltungsnummer || "";
          document.getElementById("lvname").value = data.lehrveranstaltungsbezeichnung || "";
          document.getElementById("dozent").value = data.dozent || "";
          document.getElementById("sws").value = data.gesamtSWS || "";
          document.getElementById("vl").value = data.vorlesungSWS || "";
          document.getElementById("sem").value = data.seminarSWS || "";
          document.getElementById("prak").value = data.praktikumSWS || "";
        });
    }
  </script>
</body>
</html>
