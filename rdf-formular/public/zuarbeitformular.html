<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Zuarbeitsformular</title>
  <style>
    body { font-family: sans-serif; }
    label { font-weight: bold; }
    input, select, textarea { margin-bottom: 6px; }
  </style>
</head>
<body>
  <h1>üìù Zuarbeitsformular (Lehrveranstaltung)</h1>
  <form method="POST" action="/submit?type=zuarbeit">
    <label>Abgabetermin DS:</label><br><input name="abgabetermin" type="date"><br>
    <label>Eingang bei DS:</label><br><input name="eingang"><br>
    <label>Hochschule:</label><br><input name="hochschule" value="HTWK Leipzig" disabled><br>
    <label><label>Semester:</label><select name="semester" id="semester"></select><br><script src="semester.js"></script>
    <label>Fakult√§t:</label><select name="fakultaet" id="fakultaet"></select><br><script src="fakultaet.js"></script>
    <label>Studiengang:</label><br><input name="studiengang"><br>
    <label>Fachsemester:</label><br><input name="fachsemester" type="number"><br>
    <input name="gruppen" type="text" placeholder="z.‚ÄØB. Gruppe 25INB-1, Gruppe 25MIB-1-2"><br>
    <label>Anzahl der Studierenden in den Gruppen:</label><br><input name="anzahlStudierendeGruppen" type="number" min="0"><br>
    <label>Modulnummer:</label><br><input name="modulnummer" type="text"><br>
    <label>Modulbezeichnung:</label><br><input name="modulbezeichnung" type="text"><br>
    <label>Teilmodulnummer:</label><br><input name="teilmodulnummer" id="teilmodulnummer" type="text"><br>
    <label>Teilmodulbezeichnung:</label><br><input name="teilmodulbezeichnung" id="teilmodulbezeichnung" type="text"><br>
    <label>Fachart (Pflicht- oder Wahlpflichtmodul):</label><br>
    <select name="fachart">
        <option value="">-- bitte w√§hlen --</option>
        <option value="Pflichtmodul">Pflichtmodul</option>
       <option value="Wahlpflichtmodul">Wahlpflichtmodul</option>
    </select><br>

    <label>Gesamt SWS (bezogen auf einen Beispiel-Studenten)</label><br>
    <button type="button" id="gesamtSwsAddBtn">SWS-Zeile hinzuf√ºgen</button>
    <div id="gesamtSwsTabelle"></div>

<!-- JavaScript separat laden -->
<script src="gesamt-sws.js"></script>


    <button type="submit">‚úÖ Speichern</button>
  </form>
  <a href="/">Zur√ºck zur Auswahl</a>
  <script>
   // function ladeModulDaten() {
      const nummer = document.getElementById("modulnummer").value;
      if (!nummer) return;
      fetch(`/modul/${nummer}`)
        .then(res => res.json())
        .then(data => {
          document.getElementById("modulbezeichnung").value = data.modulbezeichnung || "";
          document.getElementById("lvnummer").value = data.lehrveranstaltungsnummer || "";
          document.getElementById("lvname").value = data.lehrveranstaltungsbezeichnung || "";
          document.getElementsByName("dozent")[0].value = data.dozent || "";
        });
    }
  </script>
</body>
</html>
